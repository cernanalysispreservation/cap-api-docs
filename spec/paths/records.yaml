summary: Represents a record
description: >
  This resource represents an individual published record in the system. Each
  record is identified by a UUID `recid`.
get:
  tags:
    - Records
    - Search
  summary: Retrieve a list of records
  description: >-
    Query published records

    > You need to have at least `read` access to query them.
  parameters:
    - $ref: '#/components/parameters/query'
    - $ref: '#/components/parameters/sort'
    - $ref: '#/components/parameters/page'
    - $ref: '#/components/parameters/size'
  responses:
    '200':
      description: OK
      headers:
        X-Rate-Limit:
          $ref: '#/components/headers/RateLimit'
        X-Expires-After:
          $ref: '#/components/headers/ExpiresAfter'
      content:
        application/json:
          schema:
            type: object
            properties:
              aggregations:
                type: object
                description: Aggregations of returned results
              hits:
                type: object
                properties:
                  hits:
                    $ref: '#/components/schemas/Record'
                  total:
                    type: number
                    description: Total number of results
              links:
                type: object
                description: Links related with the deposits results (ex. prev/next page)
          example:
            aggregations: {}
            hits:
              hits:
                - can_admin: true
                  can_edit: true
                  created: '2018-11-05T09:16:31.496137+00:00'
                  id: CAP.ALICE.FPEE.8XTW
                  links:
                    self: >-
                      https://analysispreservation.cern.ch/records/CAP.ALICE.FPEE.8XTW
                  metadata: {}
                  published:
                    revision_id: 0
                    type: recid
                    value: CAP.ALICE.FPEE.8XTW
                  revision: 0
                  schema: >-
                    https://analysispreservation.cern.ch/schemas/records/alice-analysis-v0.0.1.json
                  status: published
                  updated: '2018-11-05T09:16:31.496146+00:00'
                - {}
                - {}
              total: 130
            links:
              next: >-
                https://analysispreservation.cern.ch/api/deposits/?sort=mostrecent&page=3&size=10
              prev: >-
                https://analysispreservation.cern.ch/api/deposits/?sort=mostrecent&page=1&size=10
              self: >-
                https://analysispreservation.cern.ch/api/deposits/?sort=mostrecent&page=2&size=10
    '401':
      $ref: '#/components/responses/NotAuthorized'
